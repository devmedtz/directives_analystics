{% extends 'main/base.html' %}
{% load static %}
{% load widget_tweaks %}

{% load crispy_forms_tags %}

{% block title %}{% endblock title %}

{% block stylesheet %}
{% endblock stylesheet %}

{% block content %}
	<div class="py-3 text-center">
		<img class="d-block mx-auto mb-3" src="{% static 'main/images/logo.jpg' %}" alt="" width="100" height="100">
		<h3 class="text-primary">Schools Directive Analytics </h3>
	</div> 

	<form id="SchoolForm" method="GET" action="{% url 'main:school_list' %}" data-district-url="{% url 'location:ajax_load_district' %}">
		<div class="text-center border-bottom border-primary mb-2">
			<h4>Basic information</h4>
		</div>
		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">1. Want a school with gender status of</label>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="gender" id="id_gender_1" value="Boys" {% if values.gender == "Boys" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_gender_1">Boys</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="gender" id="id_gender_2" value="Girls" {% if values.gender == "Girls" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_gender_2">Girls</label> 
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="gender" id="id_gender_3" value="co-ed/boys and girls" {% if values.gender == "co-ed/boys and girls" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_gender_3">Co-ed/boys and Girls</label>
			</div>
		</div>

		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">2. Want a school which is </label>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="accomodation_type" id="id_accomodation_1" value="Boarding/Hostel" {% if values.accomodation == "Boarding/Hostel" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_accomodation_1">Boarding/Hostel</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="accomodation_type" id="id_accomodation_2" value="Day" {% if values.accomodation == "Day" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_accomodation_2">Day</label>
			</div>
		</div>

		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">3. Want a school with </label>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="class_size" id="id_class_size_1" value="40 students in class" {% if values.class_size == "40 students in class" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_class_size_1">40 students in class</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="class_size" id="id_class_size_2" value="40+ students in class" {% if values.class_size == "40+ students in class" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_class_size_2">40 + students in class</label>
			</div>
		</div>

		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">4. Want a private school </label>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="ownership" id="id_ownership_1" value="General" {% if values.ownership == "General" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_ownership_1">General private</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="ownership" id="id_ownership_2" value="Christian Seminary" {% if values.ownership == "Christian Seminary" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_ownership_2">Christian seminary</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="ownership" id="id_ownership_3" value="Islamic Seminary" {% if values.ownership == "Islamic Seminary" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_ownership_3">Islamic Seminary</label>
			</div>
		</div>

		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">5. Want a school with Multicultural/International students? </label>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="school_multicultural" id="id_multicultural_1" value="Yes" {% if values.multicultural == "Yes" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_multicultural_1">Yes</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="school_multicultural" id="id_multicultural_2" value="Not necessary" {% if values.multicultural == "Not necessary" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_multicultural_2">Not necessary</label>
			</div>
		</div>

		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">6. Want a school in </label>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="school_location" id="id_school_location_1" value="Big cities" {% if values.school_location == "Big cities" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_school_location_1">Big cities</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="school_location" id="id_school_location_2" value="Mid towns" {% if values.school_location == "Mid towns" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_school_location_2">Mid towns</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="school_location" id="id_school_location_3" value="villages areas" {% if values.school_location == "villages areas" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_school_location_3">Village areas</label>
			</div>
		</div>

		<div class="my-5 text-center border-bottom border-primary mb-2">
			<h4>School Academics</h4>
			<h5 class="lead">O'Level</h5>
		</div>

		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">7. Want a shool with a curricular system of </label>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="curricular_system" id="id_curricular_system_1" value="NECTA" {% if values.curricular_system == "NECTA" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_curricular_system_1">NECTA</label>
			</div>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="radio" name="curricular_system" id="id_curricular_system_2" value="International curriculars" {% if values.curricular_system == "International curriculars" %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_curricular_system_2">International curricular</label>
			</div>
		</div>

		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">8. Want a school with </label>
			{% for a in subjects %}
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="checkbox" name="school_subjects" id="id_school_subjects_{{a.id}}" value="{{a.id}}"
				>
				<label class="form-check-label" for="id_school_subjects_{{a.id}}">{{a.name}}</label>
			</div>
			{% endfor %}
		</div>

		<div class="my-5 text-center border-bottom border-primary mb-2">
			<h4>School Academics</h4>
			<h5 class="lead">A'Level</h5>
		</div>

		<div class="mb-2">
			<label for="inputEmail3" class="col-form-label me-3">9. Want a school with </label>
			{% for a in combinations %}
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="checkbox" name="subject_combination" id="id_subject_combination_{{a.id}}" value="{{a.id}}"
				>
				<label class="form-check-label" for="id_subject_combination_{{a.id}}">{{a.name}}</label>
			</div>
			{% endfor %}

		</div>

		<div class="my-5 text-center border-bottom border-primary mb-3">
			<h4>School Fees Ranges</h4>
		</div>


		<div class="row mb-4 g-3">
			<label for="inputEmail3" class="col-sm-6 col-form-label">10. Want school with Tution fee of Range, Please place the range </label>
			<div class="col-sm-3">
				<div class="input-group">
					<span class="input-group-text" id="basic-addon1">Tshs.</span>
					<input name="fee_from" type="number" class="form-control" placeholder="From" value="{{values.fee_from}}" >
				</div>
			</div>
			<div class="col-sm-3">
				<div class="input-group">
					<span class="input-group-text" id="basic-addon1">Tshs.</span>
					<input name="fee_to" type="number" class="form-control" placeholder="To" value="{{values.fee_to}}">
				</div>
			</div>
			
		</div>

		<div class="mb-4">
			<label for="inputEmail3" class="col-form-label me-3">11. Want a school with scholarship or supported by charity organization (no fee) </label>
			<div class="form-check form-check-inline">
				<input class="form-check-input" type="checkbox" name="charity_support" id="id_charity_support_1" value="1" {% if values.charity_support == '1' %}checked="checked"{% endif %}>
				<label class="form-check-label" for="id_charity_support_1"></label>
			</div>
		</div>

		<div class="row mb-4 g-3">
			<label for="inputEmail3" class="col-sm-5 col-form-label">12. Choose a region/location of your interest here </label>
			<div class="col-sm-3">
				<div class="input-group">
					{% render_field form.region class="form-control" placeholder=form.region.label %}
				</div>
			</div>
			<div class="col-sm-3">
				<div class="input-group">
					{% render_field form.district class="form-control" placeholder=form.district.label %}
				</div>
			</div>
			
		</div>

		<div class="row">
			<div class="col-md-4"></div>
			<div class="col-md-4">
				<div class="py-5">
					<div class="d-grid gap-2">
						<button class="btn btn-primary btn-lg" type="submit">Submit</button>
					</div>
					
				</div>
			</div>
			<div class="col-md-4"></div>
		</div>

		
	</form>
 
{% endblock %}

{% block javascript %}

<script>
	$("#id_region").change(function () {
	  var url = $("#SchoolForm").attr("data-district-url");
	  var regionId = $(this).val();
	  $.ajax({                       
		url: url,
		data: {
		  'region': regionId
		},
		success: function (data) {
		  $("#id_district").html(data); 
		}
	  });
  
	});
  </script>

{% endblock javascript %}